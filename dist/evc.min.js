!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.EVC=e():t.EVC=e()}(self,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{CalendarEvent:()=>l,EventCalendar:()=>j});const n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const r=new Uint8Array(16);function o(){if(!i&&(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}const a=[];for(let t=0;t<256;++t)a.push((t+256).toString(16).slice(1));const s=function(t,e,i){if(n.randomUUID&&!e&&!t)return n.randomUUID();const r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){i=i||0;for(let t=0;t<16;++t)e[i+t]=r[t];return e}return function(t,e=0){return a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]}(r)};function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,c(i.key),i)}}function c(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==u(e)?e:e+""}var l=function(){return t=function t(e){var n=e.id,i=void 0===n?null:n,r=e.title,o=e.start,a=e.end,u=void 0===a?null:a,h=e.themeColor,c=void 0===h?"#03a9f4":h;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=i||s(),this.title=r,u&&void 0!==u.weekDay&&Number.isInteger(u.weekDay)&&(void 0===o.weekDay||!Number.isInteger(o.weekDay)))throw"End day of weekly event is given but no start day is given";this.start=o,this.end=null!=u?u:{},Object.assign(this.end,null!=u?u:this.start),this.validateHexColor(c)&&(this.themeColor=c)},(e=[{key:"validateHexColor",value:function(t){if(null!==t.match(/^#([0-9a-f]{3}){1,2}$/i))return!0;throw"Invalid hex color "+t}}])&&h(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,v(i.key),i)}}function v(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=y(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:e+""}function d(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function m(t,e,n){return t.set(g(t,e),n),n}function p(t,e){return t.get(g(t,e))}function g(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var b=new WeakMap,w=new WeakMap,D=new WeakMap,E=new WeakMap,k=new WeakMap,S=new WeakMap,C=new WeakMap,N=new WeakMap,M=new WeakMap,j=function(){return t=function t(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).events,n=void 0===e?[]:e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,b,new Date),d(this,w,void 0),d(this,D,void 0),d(this,E,void 0),d(this,k,[]),d(this,S,[new l({title:"Today",start:{day:p(b,this).getDate(),month:p(b,this).getMonth()+1,year:p(b,this).getFullYear()},themeColor:"#8a4af3"})]),d(this,C,null),d(this,N,[]),d(this,M,[]),!this.validateNoDuplicateEvents(n))throw"Duplicate Events Not Allowed";this.events=n,this.setup()},e=[{key:"month",get:function(){return p(D,this)},set:function(t){m(D,this,t),this.month>11?(m(D,this,0),this.year++):this.month<0&&(m(D,this,11),this.year--),this.dispatchCustomEvent("monthChanged",this.month),this.updateDays()}},{key:"year",get:function(){return p(E,this)},set:function(t){m(E,this,t),this.dispatchCustomEvent("yearChanged",this.year),this.updateDays()}},{key:"events",get:function(){return p(k,this)},set:function(t){t.map((function(t){return new l(t)})),m(k,this,t.map((function(t){return t instanceof l?t:new l(t)}))),this.updateDays(),this.dispatchCustomEvent("eventsChanged",this.events)}},{key:"selectedDay",get:function(){return p(C,this)},set:function(t){m(C,this,t),this.dispatchCustomEvent("selectedDayChanged",{day:this.selectedDay,events:this.getEventsForDay(t)}),this.updateDays()}},{key:"days",get:function(){var t=this;return p(w,this).map((function(e){return{day:e,events:t.getEventsForDay(e)}}))},set:function(t){m(w,this,t),this.dispatchCustomEvent("daysChanged",this.days)}},{key:"customEventStore",get:function(){return p(N,this)},set:function(t){m(N,this,[])}},{key:"setup",value:function(){this.events=this.events.concat(p(S,this)),this.month=p(b,this).getMonth(),this.year=p(b,this).getFullYear(),this.days=this.getDaysInMonth(this.month,this.year)}},{key:"on",value:function(t,e){var n=this;p(N,this).push({customEventName:t,callback:e});var i=p(M,this).filter((function(e){return e.customEventName===t}));return i.length>0&&(i.forEach((function(t){n.dispatchCustomEvent(t.customEventName,t.data)})),m(M,this,p(M,this).filter((function(e){return e.customEventName!==t})))),this}},{key:"updateDays",value:function(){void 0!==this.month&&Number.isInteger(this.month)&&void 0!==this.year&&Number.isInteger(this.year)&&(this.days=this.getDaysInMonth(this.month,this.year))}},{key:"addEvent",value:function(t){if(t instanceof l||(t=new l(t)),!this.validateEventDoesntExistsAlready(t))throw"Duplicate Events Not Allowed";this.events=this.events.concat(t)}},{key:"removeEvent",value:function(t){t instanceof l||(t=new l(t)),this.events=this.events.filter((function(e){return e.title!==t.title&&JSON.stringify(e)!==JSON.stringify(t)}))}},{key:"dispatchCustomEvent",value:function(t,e){var n=this;p(N,this).length>0?p(N,this).forEach((function(i){i.customEventName===t&&i.callback(e,n)})):p(M,this).push({customEventName:t,data:e})}},{key:"getEventsForDay",value:function(t){var e=this,n=[];return this.events.forEach((function(i){e.checkDayHasEvent(t,i)&&n.push(i)})),n}},{key:"checkDayHasEvent",value:function(t,e){var n=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.every((function(t){return void 0!==t&&Number.isInteger(t)}))},i=!1===n(e.start.day)?1:e.start.day,r=!1===n(e.start.month)?n(e.start.year)?1:t.getMonth()+1:e.start.month,o=!1===n(e.start.year)?t.getFullYear():e.start.year,a=!1===n(e.start.weekDay)?null:e.start.weekDay,s=!1===n(e.end.day)?i:e.end.day,u=!1===n(e.end.month)?r:e.end.month,h=!1===n(e.end.year)?o:e.end.year,c=!1===n(e.end.weekDay)?a:e.end.weekDay,l=new Date(o,r-1,i),y=new Date(h,u-1,s);return null===a?!(!this.matchSameDate(t,l)||!this.matchSameDate(t,y))||t.getTime()>=l.getTime()&&t.getTime()<=y.getTime():null!==a&&t.getDay()===a&&null===c||null!==a&&null!==c&&t.getDay()>=a&&t.getDay()<=c||void 0}},{key:"validateEventDoesntExistsAlready",value:function(t){var e;return 0===(null!==(e=this.events)&&void 0!==e?e:[]).filter((function(e){return JSON.stringify(e)===JSON.stringify(t)})).length}},{key:"validateNoDuplicateEvents",value:function(t){var e=!1;return t.forEach((function(n){!0!==e&&t.filter((function(t){return JSON.stringify(t)===JSON.stringify(n)})).length>1&&(e=!0)})),!e}},{key:"getDaysInMonth",value:function(t,e){for(var n=new Date(e,t,1),i=[];n.getMonth()===t;)i.push(new Date(n)),n.setDate(n.getDate()+1);return i}},{key:"matchSameDate",value:function(t,e){return t&&e&&t.getFullYear()===e.getFullYear()&&t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()}}],e&&f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();return e})()));